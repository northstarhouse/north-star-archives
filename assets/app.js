(()=>{var I=Object.defineProperty,q=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var S=(e,t,i)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,h=(e,t)=>{for(var i in t||(t={}))B.call(t,i)&&S(e,i,t[i]);if(A)for(var i of A(t))G.call(t,i)&&S(e,i,t[i]);return e},x=(e,t)=>q(e,E(t));const{useState:p,useEffect:oe,useMemo:O}=React,z=["Architectural Element","Fixture","Document","Photograph","Furniture","Decorative Art","Building Material","Tool/Equipment"],F=["Original Fixtures","Construction Documents","Historic Photographs","Restored Elements","Building Materials","Furnishings","Donor Contributions"],W=[{id:"1",title:"Original Redwood Ceiling Beam",alternateTitle:"Main Hall Support Beam",aboutText:"This magnificent old-growth redwood beam is one of the original structural elements from the 1905 construction of the North Star House. Measuring over 20 feet in length, it showcases the exceptional craftsmanship and material quality that Julia Morgan specified for her buildings. The beam features hand-hewn surfaces and original iron hardware attachments, demonstrating the Arts and Crafts commitment to honest expression of materials and construction methods.",images:[{url:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800",caption:"Full beam view showing grain pattern",isPrimary:!0},{url:"https://images.unsplash.com/photo-1541123603104-512919d6a96c?w=800",caption:"Detail of iron hardware connection",isPrimary:!1},{url:"https://images.unsplash.com/photo-1560185893-a55cbc8c57e8?w=800",caption:"End grain showing old-growth rings",isPrimary:!1}],objectType:"Architectural Element",dateCreated:"1905",datePeriod:"Arts & Crafts Era",makers:[{name:"Julia Morgan",role:"Architect"},{name:"Pacific Lumber Company",role:"Mill"}],dimensions:`20' 6" L x 12" W x 14" H`,materials:["Old-growth Redwood","Wrought Iron"],condition:"Excellent - original patina preserved",keywords:["structural","original","redwood","1900s","Arts & Crafts","ceiling"],collection:"Building Materials",location:"Main Hall - in situ",provenance:"Original to building construction. Documented in Morgan's 1905 construction specifications.",acquisitionDate:"1905",acquisitionMethod:"Original Construction",donor:"",accessionNumber:"NSH.1905.001",notes:"Protected during 2015 restoration. Seismic reinforcement added without altering appearance.",createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"2",title:"Hammered Copper Lantern",alternateTitle:"Entry Hall Pendant Light",aboutText:"A stunning example of Arts and Crafts metalwork, this hammered copper lantern was designed by Julia Morgan specifically for the North Star House entry. The hand-hammered texture creates a warm, dancing light pattern on surrounding walls. The lantern features amber art glass panels and original copper chain suspension hardware. This piece exemplifies Morgan's attention to every detail of her buildings, from structure to decorative elements.",images:[{url:"https://images.unsplash.com/photo-1524484485831-a92ffc0de03f?w=800",caption:"Lantern illuminated at dusk",isPrimary:!0},{url:"https://images.unsplash.com/photo-1513506003901-1e6a229e2d15?w=800",caption:"Detail of hammered copper texture",isPrimary:!1}],objectType:"Fixture",dateCreated:"1905-1906",datePeriod:"Arts & Crafts Era",makers:[{name:"Julia Morgan",role:"Designer"},{name:"Dirk van Erp Studio",role:"Metalsmith (attributed)"}],dimensions:'24" H x 14" Diameter',materials:["Hammered Copper","Amber Art Glass","Brass"],condition:"Very Good - minor patina, original glass intact",keywords:["lighting","Arts & Crafts","handcrafted","copper","entry","original"],collection:"Original Fixtures",location:"Entry Hall - in situ",provenance:"Original to building. Attributed to Dirk van Erp based on construction style and Morgan's known collaborations.",acquisitionDate:"1905",acquisitionMethod:"Original Construction",donor:"",accessionNumber:"NSH.1905.015",notes:"Rewired for modern electrical standards in 1987. Original socket retained for display.",createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z"},{id:"3",title:"Original Construction Blueprint - Main Floor",alternateTitle:"Morgan Drawing No. 12",aboutText:"This original blueprint from Julia Morgan's office shows the complete main floor plan of the North Star House as designed in 1904. The drawing includes detailed room layouts, structural notations in Morgan's distinctive hand, and material specifications. Blueprint annotations reveal last-minute design changes and the collaborative relationship between Morgan and her clients. This document is invaluable for understanding Morgan's design process and the original intent for the space.",images:[{url:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?w=800",caption:"Full blueprint showing main floor layout",isPrimary:!0},{url:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?w=800",caption:"Detail of Morgan's handwritten notes",isPrimary:!1}],objectType:"Document",dateCreated:"1904",datePeriod:"Arts & Crafts Era",makers:[{name:"Julia Morgan",role:"Architect"}],dimensions:'36" x 48"',materials:["Paper","Blueprint (cyanotype)"],condition:"Good - some edge wear, fading in corners",keywords:["plans","architecture","original","blueprint","Morgan","design"],collection:"Construction Documents",location:"Archive Room - Climate Controlled Storage",provenance:"Gift from Morgan's office archives via Cal Poly Special Collections, 1980.",acquisitionDate:"1980-06-15",acquisitionMethod:"Donation",donor:"Cal Poly San Luis Obispo - Morgan Collection",accessionNumber:"NSH.DOC.1904.012",notes:"Digitized in 2018. Original stored in acid-free folder. Handle with cotton gloves only.",createdAt:"2024-01-16T09:00:00Z",updatedAt:"2024-01-16T09:00:00Z"},{id:"4",title:"Hand-Forged Iron Door Hinge",alternateTitle:"Main Entry Strap Hinge",aboutText:"This substantial hand-forged iron hinge is one of a matched set of six that support the main entry doors. Each hinge was individually crafted by a local blacksmith, featuring a decorative scroll terminal that echoes the organic forms favored in Arts and Crafts metalwork. The forging marks are intentionally visible, celebrating the handmade nature of the work. These hinges have supported the original oak doors for over a century.",images:[{url:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800",caption:"Hinge mounted on original door",isPrimary:!0}],objectType:"Architectural Element",dateCreated:"c. 1905",datePeriod:"Arts & Crafts Era",makers:[{name:"Unknown Blacksmith",role:"Craftsman"},{name:"Julia Morgan",role:"Designer"}],dimensions:'18" L x 3" W',materials:["Wrought Iron"],condition:"Excellent - protective wax coating applied",keywords:["hardware","handmade","iron","doors","blacksmith","entry"],collection:"Original Fixtures",location:"Main Entry Doors - in situ",provenance:"Original to building. Blacksmith identity unknown but likely a Grass Valley craftsman.",acquisitionDate:"1905",acquisitionMethod:"Original Construction",donor:"",accessionNumber:"NSH.1905.022",notes:"One of six matching hinges. Inspected annually for structural integrity.",createdAt:"2024-01-16T11:00:00Z",updatedAt:"2024-01-16T11:00:00Z"},{id:"5",title:"Construction Photograph - Workers on Scaffolding",alternateTitle:"Building the North Star House, 1905",aboutText:"This remarkable photograph captures construction workers on wooden scaffolding during the building of the North Star House in 1905. The image shows the west elevation partially complete, with workers visible at various levels of the structure. This photograph provides invaluable documentation of early 20th century construction methods and the scale of effort required to build Morgan's designs. Several workers are identifiable and their descendants remain in the Grass Valley community.",images:[{url:"https://images.unsplash.com/photo-1504307651254-35680f356dfd?w=800",caption:"Workers on scaffolding, west elevation",isPrimary:!0}],objectType:"Photograph",dateCreated:"Summer 1905",datePeriod:"Arts & Crafts Era",makers:[{name:"Unknown Photographer",role:"Photographer"}],dimensions:'8" x 10" (original negative)',materials:["Silver Gelatin Print","Glass Plate Negative"],condition:"Good - some silver mirroring at edges",keywords:["construction","history","workers","1900s","scaffolding","building"],collection:"Historic Photographs",location:"Archive Room - Climate Controlled Storage",provenance:"Discovered in Grass Valley Historical Society collection, 1992. Donated to North Star House.",acquisitionDate:"1992-03-20",acquisitionMethod:"Donation",donor:"Grass Valley Historical Society",accessionNumber:"NSH.PHOTO.1905.003",notes:"Original glass negative preserved separately. Print made from high-resolution scan.",createdAt:"2024-01-17T14:00:00Z",updatedAt:"2024-01-17T14:00:00Z"},{id:"6",title:"Arts & Crafts Oak Sideboard",alternateTitle:"Dining Room Server",aboutText:"This quarter-sawn white oak sideboard was commissioned by the original owners specifically for the North Star House dining room. The piece features typical Arts and Crafts construction: exposed tenon joints, hammered copper hardware, and a simple, functional form. The back panel includes a beveled mirror flanked by small display shelves. The rich fumed oak finish has developed a beautiful patina over more than a century of use.",images:[{url:"https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=800",caption:"Sideboard in dining room setting",isPrimary:!0},{url:"https://images.unsplash.com/photo-1506439773649-6e0eb8cfb237?w=800",caption:"Detail of exposed joinery",isPrimary:!1}],objectType:"Furniture",dateCreated:"c. 1906",datePeriod:"Arts & Crafts Era",makers:[{name:"Unknown Craftsman",role:"Cabinetmaker"}],dimensions:'54" W x 22" D x 48" H',materials:["Quarter-sawn White Oak","Hammered Copper","Beveled Mirror Glass"],condition:"Very Good - original finish, minor wear consistent with age",keywords:["furniture","dining","oak","Arts & Crafts","storage","original"],collection:"Furnishings",location:"Dining Room - in situ",provenance:"Original to house, purchased by first owners. Remained with property through all ownership changes.",acquisitionDate:"1906",acquisitionMethod:"Original Purchase",donor:"",accessionNumber:"NSH.FURN.1906.001",notes:'Brass plate on back indicates "Sacramento Cabinet Works" but no records of this company survive.',createdAt:"2024-01-18T10:00:00Z",updatedAt:"2024-01-18T10:00:00Z"},{id:"7",title:"Stained Glass Window Panel",alternateTitle:"Stairwell Nature Scene",aboutText:"This exceptional stained glass panel graces the main stairwell landing, depicting a California landscape with native oaks and rolling hills. The design uses opalescent glass in the American style, with rich greens, golds, and blues creating a luminous scene when backlit. The panel demonstrates the integration of nature themes throughout Morgan's designs, bringing the outdoors inside in a permanent, artistic form.",images:[{url:"https://images.unsplash.com/photo-1551913902-c92207136625?w=800",caption:"Window panel with afternoon light",isPrimary:!0}],objectType:"Decorative Art",dateCreated:"1905",datePeriod:"Arts & Crafts Era",makers:[{name:"Julia Morgan",role:"Designer"},{name:"Unknown Studio",role:"Glass Artisan"}],dimensions:'36" W x 60" H',materials:["Opalescent Glass","Lead Came","Copper Foil"],condition:"Excellent - professionally conserved 2010",keywords:["glass","stained glass","window","nature","landscape","Arts & Crafts"],collection:"Original Fixtures",location:"Main Stairwell Landing - in situ",provenance:"Original to building. Glass studio unidentified but likely San Francisco-based.",acquisitionDate:"1905",acquisitionMethod:"Original Construction",donor:"",accessionNumber:"NSH.1905.008",notes:"Protective glazing installed exterior side, 2010. UV filtering glass used.",createdAt:"2024-01-19T09:30:00Z",updatedAt:"2024-01-19T09:30:00Z"},{id:"8",title:"Granite Foundation Stone",alternateTitle:"Cornerstone Sample",aboutText:"This sample of local granite represents the foundation material used throughout the North Star House. Quarried from a site less than five miles from the building location, the stone exemplifies Julia Morgan's commitment to using local materials whenever possible. The granite's warm gray color with pink feldspar inclusions complements the redwood and copper used elsewhere in the building. This piece was salvaged during foundation repairs in 1998.",images:[{url:"https://images.unsplash.com/photo-1518837695005-2083093ee35b?w=800",caption:"Granite sample showing characteristic color",isPrimary:!0}],objectType:"Building Material",dateCreated:"1905",datePeriod:"Arts & Crafts Era",makers:[{name:"Local Quarry",role:"Source"}],dimensions:'12" x 8" x 6"',materials:["Granite"],condition:"Good - natural weathering",keywords:["stone","foundation","granite","local","structural","quarry"],collection:"Building Materials",location:"Archive Room - Display Case",provenance:"Salvaged during 1998 foundation repair project. Documented removal location.",acquisitionDate:"1998-09-15",acquisitionMethod:"Salvage",donor:"",accessionNumber:"NSH.MAT.1998.001",notes:"GPS coordinates of original quarry site recorded. Quarry no longer active.",createdAt:"2024-01-20T11:00:00Z",updatedAt:"2024-01-20T11:00:00Z"}],L=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),React.createElement("polyline",{points:"12 19 5 12 12 5"})),R=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("circle",{cx:"11",cy:"11",r:"8"}),React.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})),T=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),React.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"})),f=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),M=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"15 18 9 12 15 6"})),P=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"9 18 15 12 9 6"})),Z=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),React.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})),j=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),React.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),React.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),React.createElement("rect",{x:"3",y:"14",width:"7",height:"7"})),V=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("circle",{cx:"11",cy:"11",r:"8"}),React.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),React.createElement("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),React.createElement("line",{x1:"8",y1:"11",x2:"14",y2:"11"})),J=({images:e,title:t})=>{const[i,o]=p(0),[c,l]=p(!1);if(!e||e.length===0)return React.createElement("div",{className:"bg-stone-200 rounded-lg h-64 flex items-center justify-center"},React.createElement("span",{className:"text-stone-500"},"No images available"));const n=e[i],a=()=>{o(s=>s===0?e.length-1:s-1)},d=()=>{o(s=>s===e.length-1?0:s+1)};return React.createElement(React.Fragment,null,React.createElement("div",{className:"relative bg-stone-100 rounded-xl overflow-hidden"},React.createElement("div",{className:"relative aspect-[4/3] cursor-zoom-in",onClick:()=>l(!0)},React.createElement("img",{src:n.url,alt:n.caption||t,className:"w-full h-full object-cover"}),React.createElement("button",{className:"absolute top-4 right-4 bg-white/80 hover:bg-white p-2 rounded-full transition-colors",onClick:s=>{s.stopPropagation(),l(!0)}},React.createElement(V,{size:20}))),e.length>1&&React.createElement(React.Fragment,null,React.createElement("button",{onClick:a,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white p-2 rounded-full transition-colors shadow-md"},React.createElement(M,{size:24})),React.createElement("button",{onClick:d,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white p-2 rounded-full transition-colors shadow-md"},React.createElement(P,{size:24}))),n.caption&&React.createElement("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-4 pt-8"},React.createElement("p",{className:"text-white text-sm"},n.caption))),e.length>1&&React.createElement("div",{className:"flex gap-2 mt-3 overflow-x-auto pb-2"},e.map((s,m)=>React.createElement("button",{key:m,onClick:()=>o(m),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${m===i?"border-gold ring-2 ring-gold/30":"border-transparent opacity-70 hover:opacity-100"}`},React.createElement("img",{src:s.url,alt:"",className:"w-full h-full object-cover"})))),c&&React.createElement("div",{className:"fixed inset-0 z-50 lightbox-overlay flex items-center justify-center p-4",onClick:()=>l(!1)},React.createElement("button",{className:"absolute top-4 right-4 text-white hover:text-stone-300 transition-colors",onClick:()=>l(!1)},React.createElement(f,{size:32})),React.createElement("img",{src:n.url,alt:n.caption||t,className:"max-w-full max-h-full object-contain",onClick:s=>s.stopPropagation()}),n.caption&&React.createElement("p",{className:"absolute bottom-4 left-4 right-4 text-center text-white text-sm"},n.caption),e.length>1&&React.createElement(React.Fragment,null,React.createElement("button",{onClick:s=>{s.stopPropagation(),a()},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 p-3 rounded-full transition-colors"},React.createElement(M,{size:32,className:"text-white"})),React.createElement("button",{onClick:s=>{s.stopPropagation(),d()},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 p-3 rounded-full transition-colors"},React.createElement(P,{size:32,className:"text-white"})))))},b=({label:e,value:t,onClick:i,isClickable:o=!1})=>{if(!t||Array.isArray(t)&&t.length===0)return null;const c=Array.isArray(t)?t.join(", "):t;return React.createElement("div",{className:"py-3"},React.createElement("div",{className:"metadata-label"},e),o?React.createElement("button",{onClick:i,className:"metadata-value text-gold hover:text-gold-dark transition-colors text-left"},c):React.createElement("div",{className:"metadata-value"},c))},U=({object:e,onFilterClick:t})=>React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 border-t border-stone-200"},React.createElement(b,{label:"Object Type",value:e.objectType,isClickable:!0,onClick:()=>t("objectType",e.objectType)}),React.createElement(b,{label:"Date",value:e.dateCreated}),React.createElement(b,{label:"Period",value:e.datePeriod}),React.createElement(b,{label:"Dimensions",value:e.dimensions}),React.createElement(b,{label:"Materials",value:e.materials,isClickable:!0,onClick:()=>t("materials",e.materials[0])}),React.createElement(b,{label:"Condition",value:e.condition}),React.createElement(b,{label:"Collection",value:e.collection,isClickable:!0,onClick:()=>t("collection",e.collection)}),React.createElement(b,{label:"Location",value:e.location}),React.createElement(b,{label:"Accession Number",value:e.accessionNumber}),React.createElement(b,{label:"Acquisition Date",value:e.acquisitionDate}),React.createElement(b,{label:"Acquisition Method",value:e.acquisitionMethod}),e.donor&&React.createElement(b,{label:"Donor",value:e.donor})),H=({object:e,onClick:t})=>{var o,c;const i=((o=e.images)==null?void 0:o.find(l=>l.isPrimary))||((c=e.images)==null?void 0:c[0]);return React.createElement("button",{onClick:t,className:"bg-white rounded-xl border border-stone-200 overflow-hidden text-left card-hover w-full"},React.createElement("div",{className:"aspect-[4/3] bg-stone-100 overflow-hidden"},i?React.createElement("img",{src:i.url,alt:e.title,className:"w-full h-full object-cover"}):React.createElement("div",{className:"w-full h-full flex items-center justify-center text-stone-400"},"No image")),React.createElement("div",{className:"p-4"},React.createElement("h3",{className:"font-display text-lg font-semibold text-stone-800 mb-1 line-clamp-2"},e.title),React.createElement("p",{className:"text-sm text-stone-600 mb-2"},e.objectType),React.createElement("p",{className:"text-sm text-gold"},e.dateCreated)))},K=({currentObject:e,allObjects:t,onObjectClick:i})=>{const o=O(()=>e?t.filter(l=>l.id!==e.id).map(l=>{var y,r,N,w;let n=0;l.collection===e.collection&&(n+=3),l.objectType===e.objectType&&(n+=2);const a=((y=l.keywords)==null?void 0:y.filter(g=>{var u;return(u=e.keywords)==null?void 0:u.includes(g)}))||[];n+=a.length;const d=((r=l.materials)==null?void 0:r.filter(g=>{var u;return(u=e.materials)==null?void 0:u.includes(g)}))||[];n+=d.length;const s=((N=e.makers)==null?void 0:N.map(g=>g.name))||[],v=(((w=l.makers)==null?void 0:w.map(g=>g.name))||[]).filter(g=>s.includes(g));return n+=v.length*2,x(h({},l),{score:n})}).filter(l=>l.score>0).sort((l,n)=>n.score-l.score).slice(0,3):[],[e,t]);return o.length===0?null:React.createElement("div",{className:"mt-12"},React.createElement("h3",{className:"font-display text-2xl font-semibold text-stone-800 mb-6"},"Related Objects"),React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},o.map(c=>React.createElement(H,{key:c.id,object:c,onClick:()=>i(c)}))))},D=({tags:e,onChange:t,placeholder:i="Add tag..."})=>{const[o,c]=p(""),l=()=>{const d=o.trim();d&&!e.includes(d)&&(t([...e,d]),c(""))},n=d=>{t(e.filter(s=>s!==d))},a=d=>{d.key==="Enter"&&(d.preventDefault(),l())};return React.createElement("div",{className:"space-y-2"},React.createElement("div",{className:"flex flex-wrap gap-2"},e.map((d,s)=>React.createElement("span",{key:s,className:"tag tag-gold flex items-center gap-1"},d,React.createElement("button",{type:"button",onClick:()=>n(d),className:"hover:text-red-600 ml-1"},React.createElement(f,{size:14}))))),React.createElement("div",{className:"flex gap-2"},React.createElement("input",{type:"text",value:o,onChange:d=>c(d.target.value),onKeyDown:a,placeholder:i,className:"flex-1 px-3 py-2 border border-stone-300 rounded-lg text-sm"}),React.createElement("button",{type:"button",onClick:l,className:"px-3 py-2 bg-stone-100 hover:bg-stone-200 rounded-lg transition-colors"},React.createElement(T,{size:18}))))},Q=({makers:e,onChange:t})=>{const[i,o]=p(""),[c,l]=p(""),n=()=>{i.trim()&&(t([...e,{name:i.trim(),role:c.trim()||"Contributor"}]),o(""),l(""))},a=d=>{t(e.filter((s,m)=>m!==d))};return React.createElement("div",{className:"space-y-3"},e.map((d,s)=>React.createElement("div",{key:s,className:"flex items-center gap-2 bg-stone-50 p-2 rounded-lg"},React.createElement("span",{className:"flex-1"},React.createElement("span",{className:"font-medium"},d.name),React.createElement("span",{className:"text-stone-500 ml-2"},"(",d.role,")")),React.createElement("button",{type:"button",onClick:()=>a(s),className:"text-stone-400 hover:text-red-600"},React.createElement(f,{size:18})))),React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2"},React.createElement("input",{type:"text",value:i,onChange:d=>o(d.target.value),placeholder:"Name",className:"px-3 py-2 border border-stone-300 rounded-lg text-sm"}),React.createElement("input",{type:"text",value:c,onChange:d=>l(d.target.value),placeholder:"Role (e.g., Architect, Craftsman)",className:"px-3 py-2 border border-stone-300 rounded-lg text-sm"})),React.createElement("button",{type:"button",onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-stone-100 hover:bg-stone-200 rounded-lg transition-colors text-sm"},React.createElement(T,{size:16})," Add Contributor"))},_=({images:e,onChange:t})=>{const[i,o]=p(""),[c,l]=p(""),n=()=>{if(i.trim()){const s=e.length===0;t([...e,{url:i.trim(),caption:c.trim(),isPrimary:s}]),o(""),l("")}},a=s=>{const m=e.filter((v,y)=>y!==s);m.length>0&&!m.some(v=>v.isPrimary)&&(m[0].isPrimary=!0),t(m)},d=s=>{t(e.map((m,v)=>x(h({},m),{isPrimary:v===s})))};return React.createElement("div",{className:"space-y-3"},e.map((s,m)=>React.createElement("div",{key:m,className:"flex items-start gap-3 bg-stone-50 p-3 rounded-lg"},React.createElement("img",{src:s.url,alt:"",className:"w-16 h-16 object-cover rounded"}),React.createElement("div",{className:"flex-1 min-w-0"},React.createElement("p",{className:"text-sm truncate"},s.url),s.caption&&React.createElement("p",{className:"text-xs text-stone-500"},s.caption),React.createElement("button",{type:"button",onClick:()=>d(m),className:`text-xs mt-1 ${s.isPrimary?"text-gold font-medium":"text-stone-400 hover:text-gold"}`},s.isPrimary?"Primary Image":"Set as Primary")),React.createElement("button",{type:"button",onClick:()=>a(m),className:"text-stone-400 hover:text-red-600"},React.createElement(f,{size:18})))),React.createElement("div",{className:"space-y-2"},React.createElement("input",{type:"url",value:i,onChange:s=>o(s.target.value),placeholder:"Image URL",className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm"}),React.createElement("input",{type:"text",value:c,onChange:s=>l(s.target.value),placeholder:"Caption (optional)",className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm"}),React.createElement("button",{type:"button",onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-stone-100 hover:bg-stone-200 rounded-lg transition-colors text-sm"},React.createElement(T,{size:16})," Add Image")))},$=({object:e,onSave:t,onCancel:i})=>{const[o,c]=p(h({title:"",alternateTitle:"",aboutText:"",images:[],objectType:"",dateCreated:"",datePeriod:"",makers:[],dimensions:"",materials:[],condition:"",keywords:[],collection:"",location:"",provenance:"",acquisitionDate:"",acquisitionMethod:"",donor:"",accessionNumber:"",notes:""},e)),l=a=>{if(a.preventDefault(),!o.title.trim()){alert("Title is required");return}t(x(h({},o),{id:o.id||Date.now().toString(),createdAt:o.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()}))},n=(a,d)=>{c(s=>x(h({},s),{[a]:d}))};return React.createElement("form",{onSubmit:l,className:"space-y-8"},React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Basic Information"),React.createElement("div",{className:"space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Title ",React.createElement("span",{className:"text-red-500"},"*")),React.createElement("input",{type:"text",value:o.title,onChange:a=>n("title",a.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg",required:!0})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Alternate Title"),React.createElement("input",{type:"text",value:o.alternateTitle,onChange:a=>n("alternateTitle",a.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"About"),React.createElement("textarea",{value:o.aboutText,onChange:a=>n("aboutText",a.target.value),rows:5,className:"w-full px-4 py-3 border border-stone-300 rounded-lg resize-none"})))),React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Images"),React.createElement(_,{images:o.images,onChange:a=>n("images",a)})),React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Classification"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Object Type"),React.createElement("select",{value:o.objectType,onChange:a=>n("objectType",a.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white"},React.createElement("option",{value:""},"Select type..."),z.map(a=>React.createElement("option",{key:a,value:a},a)))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Collection"),React.createElement("select",{value:o.collection,onChange:a=>n("collection",a.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white"},React.createElement("option",{value:""},"Select collection..."),F.map(a=>React.createElement("option",{key:a,value:a},a)))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Date Created"),React.createElement("input",{type:"text",value:o.dateCreated,onChange:a=>n("dateCreated",a.target.value),placeholder:"e.g., 1905, c. 1900, 1905-1910",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Period"),React.createElement("input",{type:"text",value:o.datePeriod,onChange:a=>n("datePeriod",a.target.value),placeholder:"e.g., Arts & Crafts Era",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"}))),React.createElement("div",{className:"mt-4"},React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Keywords"),React.createElement(D,{tags:o.keywords,onChange:a=>n("keywords",a),placeholder:"Add keyword..."}))),React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Physical Details"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Dimensions"),React.createElement("input",{type:"text",value:o.dimensions,onChange:a=>n("dimensions",a.target.value),placeholder:'e.g., 24" x 36" x 12"',className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Condition"),React.createElement("input",{type:"text",value:o.condition,onChange:a=>n("condition",a.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Location"),React.createElement("input",{type:"text",value:o.location,onChange:a=>n("location",a.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Accession Number"),React.createElement("input",{type:"text",value:o.accessionNumber,onChange:a=>n("accessionNumber",a.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg"}))),React.createElement("div",{className:"mt-4"},React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Materials"),React.createElement(D,{tags:o.materials,onChange:a=>n("materials",a),placeholder:"Add material..."}))),React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Contributors"),React.createElement(Q,{makers:o.makers,onChange:a=>n("makers",a)})),React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Provenance & Acquisition"),React.createElement("div",{className:"space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Provenance"),React.createElement("textarea",{value:o.provenance,onChange:a=>n("provenance",a.target.value),rows:3,className:"w-full px-4 py-3 border border-stone-300 rounded-lg resize-none"})),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Acquisition Date"),React.createElement("input",{type:"text",value:o.acquisitionDate,onChange:a=>n("acquisitionDate",a.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Acquisition Method"),React.createElement("input",{type:"text",value:o.acquisitionMethod,onChange:a=>n("acquisitionMethod",a.target.value),placeholder:"e.g., Donation, Purchase",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Donor"),React.createElement("input",{type:"text",value:o.donor,onChange:a=>n("donor",a.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg"}))))),React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Internal Notes"),React.createElement("textarea",{value:o.notes,onChange:a=>n("notes",a.target.value),rows:3,className:"w-full px-4 py-3 border border-stone-300 rounded-lg resize-none",placeholder:"Notes for staff use only..."})),React.createElement("div",{className:"flex gap-4 pt-4 border-t border-stone-200"},React.createElement("button",{type:"submit",className:"flex-1 bg-gold hover:bg-gold-dark text-white py-3 px-6 rounded-lg font-medium transition-colors"},e!=null&&e.id?"Save Changes":"Add Object"),React.createElement("button",{type:"button",onClick:i,className:"px-6 py-3 bg-stone-100 hover:bg-stone-200 rounded-lg font-medium transition-colors"},"Cancel")))},X=({object:e,allObjects:t,onBack:i,onEdit:o,onFilterClick:c,onObjectClick:l})=>React.createElement("div",{className:"max-w-4xl mx-auto"},React.createElement("button",{onClick:i,className:"flex items-center gap-2 text-stone-600 hover:text-gold transition-colors mb-6"},React.createElement(L,{size:20}),React.createElement("span",null,"Back to Collection")),React.createElement(J,{images:e.images,title:e.title}),React.createElement("div",{className:"mt-8 mb-6"},React.createElement("div",{className:"flex items-start justify-between gap-4"},React.createElement("div",null,React.createElement("h1",{className:"font-display text-3xl md:text-4xl font-semibold text-stone-800"},e.title),e.alternateTitle&&React.createElement("p",{className:"text-lg text-stone-500 italic mt-1"},e.alternateTitle)),React.createElement("button",{onClick:()=>o(e),className:"flex items-center gap-2 px-4 py-2 bg-stone-100 hover:bg-stone-200 rounded-lg transition-colors text-sm"},React.createElement(Z,{size:16}),"Edit"))),e.aboutText&&React.createElement("div",{className:"mb-8"},React.createElement("h2",{className:"font-display text-xl font-semibold text-stone-800 mb-3"},"About"),React.createElement("p",{className:"text-stone-700 leading-relaxed whitespace-pre-wrap"},e.aboutText)),e.makers&&e.makers.length>0&&React.createElement("div",{className:"mb-6 pb-6 border-b border-stone-200"},React.createElement("h3",{className:"metadata-label"},"Contributors"),React.createElement("div",{className:"space-y-1"},e.makers.map((n,a)=>React.createElement("div",{key:a,className:"text-stone-800"},React.createElement("span",{className:"font-medium"},n.name),React.createElement("span",{className:"text-stone-500 ml-2"},"(",n.role,")"))))),React.createElement(U,{object:e,onFilterClick:c}),e.keywords&&e.keywords.length>0&&React.createElement("div",{className:"mt-6 pt-6 border-t border-stone-200"},React.createElement("h3",{className:"metadata-label mb-2"},"Keywords"),React.createElement("div",{className:"flex flex-wrap gap-2"},e.keywords.map((n,a)=>React.createElement("button",{key:a,onClick:()=>c("keywords",n),className:"tag"},n)))),e.provenance&&React.createElement("div",{className:"mt-8 pt-6 border-t border-stone-200"},React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-3"},"Provenance"),React.createElement("p",{className:"text-stone-700 leading-relaxed"},e.provenance)),React.createElement(K,{currentObject:e,allObjects:t,onObjectClick:l})),Y=({objects:e,filters:t,onFilterChange:i,onObjectClick:o,onAddNew:c})=>{const[l,n]=p(""),a=[...new Set(e.map(r=>r.objectType).filter(Boolean))],d=[...new Set(e.map(r=>r.collection).filter(Boolean))],s=[...new Set(e.flatMap(r=>r.keywords||[]))],m=O(()=>e.filter(r=>{var N,w,g;if(l){const u=l.toLowerCase();if(![r.title,r.alternateTitle,r.aboutText,r.objectType,...r.keywords||[],...((N=r.makers)==null?void 0:N.map(C=>C.name))||[]].join(" ").toLowerCase().includes(u))return!1}return!(t.objectType&&r.objectType!==t.objectType||t.collection&&r.collection!==t.collection||t.keyword&&!((w=r.keywords)!=null&&w.includes(t.keyword))||t.materials&&!((g=r.materials)!=null&&g.includes(t.materials)))}),[e,l,t]),v=()=>{n(""),i({})},y=l||Object.values(t).some(r=>r);return React.createElement("div",{className:"max-w-6xl mx-auto"},React.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8"},React.createElement("div",null,React.createElement("h1",{className:"font-display text-3xl md:text-4xl font-semibold text-stone-800"},"Archives"),React.createElement("p",{className:"text-stone-600 mt-1"},"North Star House Collection")),React.createElement("button",{onClick:c,className:"flex items-center gap-2 bg-gold hover:bg-gold-dark text-white px-5 py-3 rounded-lg font-medium transition-colors"},React.createElement(T,{size:20}),"Add Object")),React.createElement("div",{className:"bg-white rounded-xl border border-stone-200 p-4 mb-6"},React.createElement("div",{className:"flex flex-col md:flex-row gap-4"},React.createElement("div",{className:"flex-1 relative"},React.createElement(R,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400"}),React.createElement("input",{type:"text",value:l,onChange:r=>n(r.target.value),placeholder:"Search objects...",className:"w-full pl-10 pr-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("select",{value:t.objectType||"",onChange:r=>i(x(h({},t),{objectType:r.target.value||null})),className:"px-4 py-3 border border-stone-300 rounded-lg bg-white min-w-[160px]"},React.createElement("option",{value:""},"All Types"),a.map(r=>React.createElement("option",{key:r,value:r},r))),React.createElement("select",{value:t.collection||"",onChange:r=>i(x(h({},t),{collection:r.target.value||null})),className:"px-4 py-3 border border-stone-300 rounded-lg bg-white min-w-[180px]"},React.createElement("option",{value:""},"All Collections"),d.map(r=>React.createElement("option",{key:r,value:r},r)))),y&&React.createElement("div",{className:"flex flex-wrap items-center gap-2 mt-4 pt-4 border-t border-stone-100"},React.createElement("span",{className:"text-sm text-stone-500"},"Active filters:"),l&&React.createElement("span",{className:"tag tag-gold"},'Search: "',l,'"',React.createElement("button",{onClick:()=>n(""),className:"ml-1"},React.createElement(f,{size:14}))),t.objectType&&React.createElement("span",{className:"tag tag-gold"},"Type: ",t.objectType,React.createElement("button",{onClick:()=>i(x(h({},t),{objectType:null})),className:"ml-1"},React.createElement(f,{size:14}))),t.collection&&React.createElement("span",{className:"tag tag-gold"},"Collection: ",t.collection,React.createElement("button",{onClick:()=>i(x(h({},t),{collection:null})),className:"ml-1"},React.createElement(f,{size:14}))),t.keyword&&React.createElement("span",{className:"tag tag-gold"},"Keyword: ",t.keyword,React.createElement("button",{onClick:()=>i(x(h({},t),{keyword:null})),className:"ml-1"},React.createElement(f,{size:14}))),t.materials&&React.createElement("span",{className:"tag tag-gold"},"Material: ",t.materials,React.createElement("button",{onClick:()=>i(x(h({},t),{materials:null})),className:"ml-1"},React.createElement(f,{size:14}))),React.createElement("button",{onClick:v,className:"text-sm text-gold hover:text-gold-dark ml-2"},"Clear all"))),React.createElement("p",{className:"text-stone-600 mb-4"},m.length," ",m.length===1?"object":"objects"," found"),m.length===0?React.createElement("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200"},React.createElement(j,{size:48,className:"mx-auto text-stone-300 mb-4"}),React.createElement("p",{className:"text-stone-600 text-lg"},"No objects match your search"),React.createElement("button",{onClick:v,className:"mt-4 text-gold hover:text-gold-dark"},"Clear filters")):React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},m.map(r=>React.createElement(H,{key:r.id,object:r,onClick:()=>o(r)}))))},ee=()=>{const[e,t]=p(W),[i,o]=p("browse"),[c,l]=p(null),[n,a]=p(null),[d,s]=p({}),m=u=>{l(u),o("detail"),window.scrollTo(0,0)},v=()=>{l(null),o("browse")},y=()=>{a(null),o("add"),window.scrollTo(0,0)},r=u=>{a(u),o("edit"),window.scrollTo(0,0)},N=u=>{n?(t(k=>k.map(C=>C.id===u.id?u:C)),l(u)):(t(k=>[...k,u]),l(u)),o("detail"),a(null)},w=()=>{o(c?"detail":"browse"),a(null)};return React.createElement("div",{className:"min-h-screen bg-stone-50"},React.createElement("header",{className:"bg-white border-b border-stone-200 sticky top-0 z-40"},React.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},React.createElement("div",{className:"flex items-center justify-between h-16"},React.createElement("button",{onClick:()=>{o("browse"),l(null),s({})},className:"flex items-center gap-3"},React.createElement("div",{className:"w-10 h-10 rounded-full bg-gold flex items-center justify-center"},React.createElement("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"white"},React.createElement("path",{d:"M12 3.5l2.6 5.9L21 12l-6.4 2.6L12 20.5l-2.6-5.9L3 12l6.4-2.6L12 3.5z"}))),React.createElement("span",{className:"font-display text-xl font-semibold text-stone-800"},"North Star House")),React.createElement("span",{className:"text-stone-500 text-sm hidden sm:block"},"Archives Collection")))),React.createElement("main",{className:"px-4 sm:px-6 lg:px-8 py-8"},i==="browse"&&React.createElement(Y,{objects:e,filters:d,onFilterChange:s,onObjectClick:m,onAddNew:y}),i==="detail"&&c&&React.createElement(X,{object:c,allObjects:e,onBack:v,onEdit:r,onFilterClick:(u,k)=>{s({[u]:k}),l(null),o("browse"),window.scrollTo(0,0)},onObjectClick:m}),(i==="add"||i==="edit")&&React.createElement("div",{className:"max-w-3xl mx-auto"},React.createElement("button",{onClick:w,className:"flex items-center gap-2 text-stone-600 hover:text-gold transition-colors mb-6"},React.createElement(L,{size:20}),React.createElement("span",null,"Cancel")),React.createElement("div",{className:"bg-white rounded-xl border border-stone-200 p-6 md:p-8"},React.createElement("h2",{className:"font-display text-2xl font-semibold text-stone-800 mb-6"},i==="edit"?"Edit Object":"Add New Object"),React.createElement($,{object:n,onSave:N,onCancel:w})))),React.createElement("footer",{className:"bg-white border-t border-stone-200 mt-16"},React.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},React.createElement("div",{className:"text-center text-stone-500 text-sm"},React.createElement("p",null,"North Star House Archives"),React.createElement("p",{className:"mt-1"},"A Julia Morgan Historic Building")))))},te=ReactDOM.createRoot(document.getElementById("root"));te.render(React.createElement(ee,null));})();
