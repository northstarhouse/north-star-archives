(()=>{var re=Object.defineProperty,ie=Object.defineProperties;var ce=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var V=(e,t,l)=>t in e?re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,u=(e,t)=>{for(var l in t||(t={}))de.call(t,l)&&V(e,l,t[l]);if(K)for(var l of K(t))me.call(t,l)&&V(e,l,t[l]);return e},g=(e,t)=>ie(e,ce(t));const{useState:x,useEffect:ue,useMemo:Q,useCallback:He,useRef:pe}=React,Z="nsh-archives-cache-v1",X="nsh-archives-images-v1",ge=300*1e3,W=()=>{try{const e=localStorage.getItem(Z);if(!e)return null;const t=JSON.parse(e);return!t||!Array.isArray(t.objects)?null:t}catch(e){return console.warn("Failed to read cache:",e),null}},ee=e=>e?e.isLocal?!0:typeof e.url=="string"&&e.url.startsWith("data:"):!1,te=e=>{if(!e)return e;const t=Array.isArray(e.images)?e.images.filter(l=>!ee(l)):[];return g(u({},e),{images:t})},he=e=>Array.isArray(e)?e.map(te):e,H=e=>{try{localStorage.setItem(Z,JSON.stringify({objects:he(e),updatedAt:Date.now()}))}catch(t){console.warn("Failed to write cache:",t)}},oe=()=>{try{const e=localStorage.getItem(X);if(!e)return{};const t=JSON.parse(e);return t&&typeof t=="object"?t:{}}catch(e){return console.warn("Failed to read image cache:",e),{}}},be=e=>{try{localStorage.setItem(X,JSON.stringify(e||{}))}catch(t){console.warn("Failed to write image cache:",t)}},xe=e=>!Array.isArray(e)||e.length===0||e.some(t=>t.isPrimary)?e:[g(u({},e[0]),{isPrimary:!0}),...e.slice(1)],z=e=>{if(!Array.isArray(e)||e.length===0)return e;const t=oe();return e.map(l=>{const r=t[l.id];if(!Array.isArray(r)||r.length===0)return l;const s=xe([...l.images||[],...r]);return g(u({},l),{images:s})})},q=!0,ae=!1,L="https://script.google.com/macros/s/AKfycbwAGcXEtvH2joUHb0k1UxWSs8MYRqpUE-fn8wERcPxEQ9rK8hVGWcKnP7lpoWl7nNzM2A/exec",j=L,ve=["Architectural Element","Fixture","Document","Photograph","Furniture","Decorative Art","Building Material","Tool/Equipment","Textile","Artwork"],fe=["Original Fixtures","Construction Documents","Historic Photographs","Restored Elements","Building Materials","Furnishings","Donor Contributions","Morgan Archives","Arts & Crafts Collection"],ye=["Architect","Designer","Builder","Craftsman","Artist","Collaborator","Fabricator","Photographer","Artisan","Contractor"],G=[{id:"1",title:"Original Redwood Ceiling Beam",aboutText:"This magnificent old-growth redwood beam is one of the original structural elements from the 1905 construction of the North Star House.",images:[{url:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800",caption:"Full beam view showing grain pattern",isPrimary:!0}],from:"Original Construction",designer:"Julia Morgan",maker:"Pacific Lumber Company",makerRole:"Fabricator",portfolioTitle:"North Star House - Structural Elements",mediumMaterials:"Old-growth Redwood, Wrought Iron hardware",measurements:`20' 6" L x 12" W x 14" H`,keywords:["structural","original","redwood","1900s","Arts & Crafts"],collection:"Building Materials",objectType:"Architectural Element",objectNumber:"NSH.1905.001"},{id:"2",title:"Hammered Copper Lantern",aboutText:"A stunning example of Arts and Crafts metalwork, this hammered copper lantern was designed by Julia Morgan specifically for the North Star House entry.",images:[{url:"https://images.unsplash.com/photo-1524484485831-a92ffc0de03f?w=800",caption:"Lantern illuminated at dusk",isPrimary:!0}],from:"Original Construction",designer:"Julia Morgan",maker:"Dirk van Erp Studio (attributed)",makerRole:"Artisan",portfolioTitle:"North Star House - Lighting Fixtures",mediumMaterials:"Hammered Copper, Amber Art Glass, Brass fittings",measurements:'24" H x 14" Diameter',keywords:["lighting","Arts & Crafts","handcrafted","copper"],collection:"Original Fixtures",objectType:"Fixture",objectNumber:"NSH.1905.015"}],N={isConfigured:()=>q&&L&&L.length>0,postJson:async(e,t)=>{const l=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(t)});if(!l.ok)throw new Error("Request failed");return l.json()},fetchAll:async()=>{if(!q){const e=W();return(e==null?void 0:e.objects)||[]}if(!N.isConfigured())return console.log("Google Sheets not configured, using sample data"),G;try{const e=await fetch(`${L}?action=getAll`);if(!e.ok)throw new Error("Failed to fetch data");return(await e.json()).objects||[]}catch(e){return console.error("Error fetching from Google Sheets:",e),G}},create:async e=>{if(!N.isConfigured())return console.log("Google Sheets not configured, saving locally only"),g(u({},e),{id:Date.now().toString()});try{return(await N.postJson(L,{action:"create",object:e})).result||g(u({},e),{id:Date.now().toString()})}catch(t){return console.error("Error creating in Google Sheets:",t),g(u({},e),{id:Date.now().toString()})}},update:async e=>{if(!N.isConfigured())return console.log("Google Sheets not configured, saving locally only"),e;try{return await N.postJson(L,{action:"update",object:e}),e}catch(t){return console.error("Error updating in Google Sheets:",t),e}},delete:async e=>{if(!N.isConfigured())return console.log("Google Sheets not configured"),!0;try{return await N.postJson(L,{action:"delete",id:e}),!0}catch(t){return console.error("Error deleting from Google Sheets:",t),!1}},uploadImage:async({filename:e,mimeType:t,data:l})=>{if(!ae)throw new Error("Drive uploads disabled");if(!j)throw new Error("Drive upload not configured");const r={action:"uploadImage",filename:e,mimeType:t,data:l},s=await N.postJson(j,r);if(!s.success)throw new Error(s.error||"Upload failed");return s.result}},se=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),React.createElement("polyline",{points:"12 19 5 12 12 5"})),we=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("circle",{cx:"11",cy:"11",r:"8"}),React.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})),J=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),React.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"})),C=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"15 18 9 12 15 6"})),Y=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"9 18 15 12 9 6"})),Ne=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),React.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})),ke=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),React.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),React.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),React.createElement("rect",{x:"3",y:"14",width:"7",height:"7"})),Ce=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("circle",{cx:"11",cy:"11",r:"8"}),React.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),React.createElement("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),React.createElement("line",{x1:"8",y1:"11",x2:"14",y2:"11"})),Ae=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"23 4 23 10 17 10"}),React.createElement("polyline",{points:"1 20 1 14 7 14"}),React.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})),le=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})),Ie=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"20 6 9 17 4 12"})),U=({size:e=24,className:t=""})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`animate-spin ${t}`},React.createElement("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),React.createElement("path",{d:"M12 2a10 10 0 0 1 10 10",strokeOpacity:"1"})),Se=({images:e,title:t})=>{const[l,r]=x(0),[s,i]=x(!1);if(!e||e.length===0)return React.createElement("div",{className:"bg-stone-200 rounded-lg h-64 flex items-center justify-center"},React.createElement("span",{className:"text-stone-500"},"No images available"));const c=e[l],n=()=>{r(d=>d===0?e.length-1:d-1)},o=()=>{r(d=>d===e.length-1?0:d+1)};return React.createElement(React.Fragment,null,React.createElement("div",{className:"relative bg-stone-100 rounded-xl overflow-hidden"},React.createElement("div",{className:"relative aspect-[4/3] cursor-zoom-in",onClick:()=>i(!0)},React.createElement("img",{src:c.url,alt:c.caption||t,className:"w-full h-full object-cover",decoding:"async"}),React.createElement("button",{className:"absolute top-4 right-4 bg-white/80 hover:bg-white p-2 rounded-full transition-colors",onClick:d=>{d.stopPropagation(),i(!0)}},React.createElement(Ce,{size:20}))),e.length>1&&React.createElement(React.Fragment,null,React.createElement("button",{onClick:n,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white p-2 rounded-full transition-colors shadow-md"},React.createElement($,{size:24})),React.createElement("button",{onClick:o,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white p-2 rounded-full transition-colors shadow-md"},React.createElement(Y,{size:24}))),c.caption&&React.createElement("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-4 pt-8"},React.createElement("p",{className:"text-white text-sm"},c.caption))),e.length>1&&React.createElement("div",{className:"flex gap-2 mt-3 overflow-x-auto pb-2"},e.map((d,v)=>React.createElement("button",{key:v,onClick:()=>r(v),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${v===l?"border-gold ring-2 ring-gold/30":"border-transparent opacity-70 hover:opacity-100"}`},React.createElement("img",{src:d.url,alt:"",className:"w-full h-full object-cover",loading:"lazy",decoding:"async"})))),s&&React.createElement("div",{className:"fixed inset-0 z-50 lightbox-overlay flex items-center justify-center p-4",onClick:()=>i(!1)},React.createElement("button",{className:"absolute top-4 right-4 text-white hover:text-stone-300 transition-colors",onClick:()=>i(!1)},React.createElement(C,{size:32})),React.createElement("img",{src:c.url,alt:c.caption||t,className:"max-w-full max-h-full object-contain",onClick:d=>d.stopPropagation(),decoding:"async"}),c.caption&&React.createElement("p",{className:"absolute bottom-4 left-4 right-4 text-center text-white text-sm"},c.caption),e.length>1&&React.createElement(React.Fragment,null,React.createElement("button",{onClick:d=>{d.stopPropagation(),n()},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 p-3 rounded-full transition-colors"},React.createElement($,{size:32,className:"text-white"})),React.createElement("button",{onClick:d=>{d.stopPropagation(),o()},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 p-3 rounded-full transition-colors"},React.createElement(Y,{size:32,className:"text-white"})))))},h=({label:e,value:t,onClick:l,isClickable:r=!1})=>{if(!t||Array.isArray(t)&&t.length===0)return null;const s=Array.isArray(t)?t.join(", "):t;return React.createElement("div",{className:"py-3"},React.createElement("div",{className:"metadata-label"},e),r?React.createElement("button",{onClick:l,className:"metadata-value text-gold hover:text-gold-dark transition-colors text-left"},s):React.createElement("div",{className:"metadata-value"},s))},Te=({object:e,onFilterClick:t})=>React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 border-t border-stone-200"},React.createElement(h,{label:"Object Type",value:e.objectType,isClickable:!0,onClick:()=>t("objectType",e.objectType)}),React.createElement(h,{label:"Object Number",value:e.objectNumber}),React.createElement(h,{label:"Accession Date",value:e.accessionDate}),React.createElement(h,{label:"Named Collection",value:e.collection,isClickable:!0,onClick:()=>t("collection",e.collection)}),React.createElement(h,{label:"Collection Type",value:e.collectionType}),React.createElement(h,{label:"Classification",value:e.classification}),React.createElement(h,{label:"Controlling Institution",value:e.controllingInstitution}),React.createElement(h,{label:"Portfolio Title",value:e.portfolioTitle}),React.createElement(h,{label:"Medium & Materials",value:e.mediumMaterials}),React.createElement(h,{label:"Measurements",value:e.measurements}),React.createElement(h,{label:"Physical Characteristics",value:e.physicalCharacteristics}),React.createElement(h,{label:"Designer",value:e.designer,isClickable:!!e.designer,onClick:()=>t("designer",e.designer)}),React.createElement(h,{label:"Maker",value:e.maker,isClickable:!!e.maker,onClick:()=>t("maker",e.maker)}),React.createElement(h,{label:"Maker Role",value:e.makerRole}),React.createElement(h,{label:"From (Origin/Donor/Source)",value:e.from}),React.createElement(h,{label:"Catalogued Date",value:e.cataloguedDate}),React.createElement(h,{label:"Cataloguer",value:e.cataloguer}),React.createElement(h,{label:"Related Acquisition Record",value:e.relatedAcquisitionRecord}),React.createElement(h,{label:"Acquisition Notes",value:e.acquisitionNotes})),ne=({object:e,onClick:t})=>{var r,s;const l=((r=e.images)==null?void 0:r.find(i=>i.isPrimary))||((s=e.images)==null?void 0:s[0]);return React.createElement("button",{onClick:t,className:"bg-white rounded-xl border border-stone-200 overflow-hidden text-left card-hover w-full"},React.createElement("div",{className:"aspect-[4/3] bg-stone-100 overflow-hidden"},l?React.createElement("img",{src:l.url,alt:e.title,className:"w-full h-full object-cover",loading:"lazy",decoding:"async"}):React.createElement("div",{className:"w-full h-full flex items-center justify-center text-stone-400"},"No image")),React.createElement("div",{className:"p-4"},React.createElement("h3",{className:"font-display text-lg font-semibold text-stone-800 mb-1 line-clamp-2"},e.title),React.createElement("p",{className:"text-sm text-stone-600 mb-2"},e.objectType),e.collection&&React.createElement("p",{className:"text-sm text-gold"},e.collection)))},Le=({currentObject:e,allObjects:t,onObjectClick:l})=>{const r=Q(()=>e?t.filter(i=>i.id!==e.id).map(i=>{var o;let c=0;i.collection===e.collection&&(c+=3),i.objectType===e.objectType&&(c+=2),i.designer&&i.designer===e.designer&&(c+=2),i.maker&&i.maker===e.maker&&(c+=2);const n=((o=i.keywords)==null?void 0:o.filter(d=>{var v;return(v=e.keywords)==null?void 0:v.includes(d)}))||[];return c+=n.length,g(u({},i),{score:c})}).filter(i=>i.score>0).sort((i,c)=>c.score-i.score).slice(0,3):[],[e,t]);return r.length===0?null:React.createElement("div",{className:"mt-12"},React.createElement("h3",{className:"font-display text-2xl font-semibold text-stone-800 mb-6"},"Related Objects"),React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(s=>React.createElement(ne,{key:s.id,object:s,onClick:()=>l(s)}))))},De=({tags:e,onChange:t,placeholder:l="Add tag..."})=>{const[r,s]=x(""),i=()=>{const o=r.trim();o&&!e.includes(o)&&(t([...e,o]),s(""))},c=o=>{t(e.filter(d=>d!==o))},n=o=>{o.key==="Enter"&&(o.preventDefault(),i())};return React.createElement("div",{className:"space-y-2"},React.createElement("div",{className:"flex flex-wrap gap-2"},e.map((o,d)=>React.createElement("span",{key:d,className:"tag tag-gold flex items-center gap-1"},o,React.createElement("button",{type:"button",onClick:()=>c(o),className:"hover:text-red-600 ml-1"},React.createElement(C,{size:14}))))),React.createElement("div",{className:"flex gap-2"},React.createElement("input",{type:"text",value:r,onChange:o=>s(o.target.value),onKeyDown:n,placeholder:l,className:"flex-1 px-3 py-2 border border-stone-300 rounded-lg text-sm"}),React.createElement("button",{type:"button",onClick:i,className:"px-3 py-2 bg-stone-100 hover:bg-stone-200 rounded-lg transition-colors"},React.createElement(J,{size:18}))))},Pe=({parts:e,onChange:t})=>{const[l,r]=x(""),[s,i]=x(""),c=()=>{const o=l.trim(),d=s.trim();!o&&!d||(t([...e||[],{partId:o,partDescription:d}]),r(""),i(""))},n=o=>{t((e||[]).filter((d,v)=>v!==o))};return React.createElement("div",{className:"space-y-2"},(e||[]).map((o,d)=>React.createElement("div",{key:d,className:"flex items-start gap-3 bg-stone-50 p-3 rounded-lg"},React.createElement("div",{className:"flex-1 min-w-0"},React.createElement("p",{className:"text-sm font-medium text-stone-700 truncate"},o.partId||"Part ID"),React.createElement("p",{className:"text-xs text-stone-500"},o.partDescription||"Part description")),React.createElement("button",{type:"button",onClick:()=>n(d),className:"text-stone-400 hover:text-red-600"},React.createElement(C,{size:18})))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2"},React.createElement("input",{type:"text",value:l,onChange:o=>r(o.target.value),placeholder:"Part ID Number",className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm"}),React.createElement("input",{type:"text",value:s,onChange:o=>i(o.target.value),placeholder:"Part Description",className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm"})),React.createElement("button",{type:"button",onClick:c,className:"px-3 py-2 bg-stone-100 hover:bg-stone-200 rounded-lg transition-colors text-sm"},"Add Part"))},Ee=({images:e,onChange:t})=>{const[l,r]=x(""),[s,i]=x(!1),[c,n]=x(""),o=pe(null),d=a=>new Promise((m,p)=>{const b=new FileReader;b.onload=()=>m(b.result),b.onerror=()=>p(new Error("Failed to read file")),b.readAsDataURL(a)}),v=a=>{if(!a)return!1;const m=(a.type||"").toLowerCase(),p=(a.name||"").toLowerCase();return m==="image/heic"||m==="image/heif"||p.endsWith(".heic")||p.endsWith(".heif")},A=async a=>{if(typeof window=="undefined"||typeof window.heic2any!="function")throw new Error("HEIC conversion not available.");const m=await window.heic2any({blob:a,toType:"image/jpeg",quality:.9}),p=(a.name||"image").replace(/\.(heic|heif)$/i,".jpg");return new File([m],p,{type:"image/jpeg"})},I=async a=>{var p;const m=(p=a.target.files)==null?void 0:p[0];if(m){i(!0),n("");try{const b=v(m)?await A(m):m,M=await d(b),R=M.split(",")[1]||"";if(!R)throw new Error("Invalid image data");let E=null;if(ae&&N.isConfigured())try{const D=await N.uploadImage({filename:b.name,mimeType:b.type,data:R});E=(D==null?void 0:D.url)||null}catch(D){console.error("Image upload failed:",D)}const O=e.length===0;E?(t([...e,{url:E,caption:l.trim(),isPrimary:O}]),n("")):(t([...e,{url:M,caption:l.trim(),isPrimary:O,isLocal:!0}]),n("")),r("")}catch(b){console.error("Image upload failed:",b),n((b==null?void 0:b.message)||"Upload failed. Please try again.")}finally{i(!1),a.target.value=""}}},S=a=>{const m=e.filter((p,b)=>b!==a);m.length>0&&!m.some(p=>p.isPrimary)&&(m[0].isPrimary=!0),t(m)},P=a=>{t(e.map((m,p)=>g(u({},m),{isPrimary:p===a})))};return React.createElement("div",{className:"space-y-3"},e.map((a,m)=>React.createElement("div",{key:m,className:"flex items-start gap-3 bg-stone-50 p-3 rounded-lg"},React.createElement("img",{src:a.url,alt:"",className:"w-16 h-16 object-cover rounded"}),React.createElement("div",{className:"flex-1 min-w-0"},React.createElement("p",{className:"text-sm truncate"},a.url),a.caption&&React.createElement("p",{className:"text-xs text-stone-500"},a.caption),React.createElement("button",{type:"button",onClick:()=>P(m),className:`text-xs mt-1 ${a.isPrimary?"text-gold font-medium":"text-stone-400 hover:text-gold"}`},a.isPrimary?"Primary Image":"Set as Primary")),React.createElement("button",{type:"button",onClick:()=>S(m),className:"text-stone-400 hover:text-red-600"},React.createElement(C,{size:18})))),React.createElement("div",{className:"space-y-2"},React.createElement("input",{type:"text",value:l,onChange:a=>r(a.target.value),placeholder:"Caption (optional)",className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm"}),React.createElement("input",{ref:o,type:"file",accept:"image/*",onChange:I,className:"hidden"}),React.createElement("button",{type:"button",onClick:()=>{var a;return(a=o.current)==null?void 0:a.click()},disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-stone-100 hover:bg-stone-200 disabled:bg-stone-200 rounded-lg transition-colors text-sm"},s?React.createElement(U,{size:16}):React.createElement(J,{size:16}),s?"Uploading...":"Add Image"),c&&React.createElement("p",{className:"text-xs text-red-600"},c)))},Oe=({object:e,onSave:t,onCancel:l,isSaving:r})=>{const[s,i]=x(u({title:"",aboutText:"",images:[],from:"",designer:"",maker:"",makerRole:"",portfolioTitle:"",mediumMaterials:"",measurements:"",keywords:[],collection:"",objectType:"",objectNumber:"",accessionDate:"",controllingInstitution:"",collectionType:"",classification:"",physicalCharacteristics:"",cataloguedDate:"",cataloguer:"",relatedAcquisitionRecord:"",acquisitionNotes:"",parts:[]},e)),c=o=>{if(o.preventDefault(),!s.title.trim()){alert("Title is required");return}t(g(u({},s),{id:s.id||Date.now().toString(),createdAt:s.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()}))},n=(o,d)=>{i(v=>g(u({},v),{[o]:d}))};return React.createElement("form",{onSubmit:c,className:"space-y-8"},React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Images"),React.createElement("p",{className:"text-sm text-stone-500 mb-3"},"Add multiple images with zoom and carousel support"),React.createElement(Ee,{images:s.images,onChange:o=>n("images",o)})),React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Origin Information"),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"From (Origin, Donor, or Source)"),React.createElement("input",{type:"text",value:s.from,onChange:o=>n("from",o.target.value),placeholder:"e.g., Original Construction, Donated by Smith Family",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Accession Date"),React.createElement("input",{type:"text",value:s.accessionDate,onChange:o=>n("accessionDate",o.target.value),placeholder:"e.g., 07/25/2025",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Controlling Institution"),React.createElement("input",{type:"text",value:s.controllingInstitution,onChange:o=>n("controllingInstitution",o.target.value),placeholder:"e.g., North Star House",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})))),React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Basic Information"),React.createElement("div",{className:"space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Name / Title ",React.createElement("span",{className:"text-red-500"},"*")),React.createElement("input",{type:"text",value:s.title,onChange:o=>n("title",o.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg",required:!0})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"About this Object"),React.createElement("textarea",{value:s.aboutText,onChange:o=>n("aboutText",o.target.value),rows:5,className:"w-full px-4 py-3 border border-stone-300 rounded-lg resize-none"})))),React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Creators"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Designer(s)"),React.createElement("input",{type:"text",value:s.designer,onChange:o=>n("designer",o.target.value),placeholder:"e.g., Julia Morgan",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Maker"),React.createElement("input",{type:"text",value:s.maker,onChange:o=>n("maker",o.target.value),placeholder:"e.g., Pacific Lumber Company",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Maker Role"),React.createElement("select",{value:s.makerRole,onChange:o=>n("makerRole",o.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white"},React.createElement("option",{value:""},"Select role..."),ye.map(o=>React.createElement("option",{key:o,value:o},o)))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Portfolio Title"),React.createElement("input",{type:"text",value:s.portfolioTitle,onChange:o=>n("portfolioTitle",o.target.value),placeholder:"e.g., North Star House - Structural Elements",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})))),React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Physical Details"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Medium and Materials"),React.createElement("input",{type:"text",value:s.mediumMaterials,onChange:o=>n("mediumMaterials",o.target.value),placeholder:"e.g., Old-growth Redwood, Wrought Iron",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Measurements"),React.createElement("input",{type:"text",value:s.measurements,onChange:o=>n("measurements",o.target.value),placeholder:'e.g., 24" x 36" x 12"',className:"w-full px-4 py-3 border border-stone-300 rounded-lg"}))),React.createElement("div",{className:"mt-4"},React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Physical Characteristics"),React.createElement("input",{type:"text",value:s.physicalCharacteristics,onChange:o=>n("physicalCharacteristics",o.target.value),placeholder:"e.g., dark blue flower pattern on white porcelain",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"}))),React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Subject and Association Keywords"),React.createElement(De,{tags:s.keywords,onChange:o=>n("keywords",o),placeholder:"Add keyword..."})),React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Classification"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Named Collection"),React.createElement("select",{value:s.collection,onChange:o=>n("collection",o.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white"},React.createElement("option",{value:""},"Select collection..."),fe.map(o=>React.createElement("option",{key:o,value:o},o)))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Object Type"),React.createElement("select",{value:s.objectType,onChange:o=>n("objectType",o.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white"},React.createElement("option",{value:""},"Select type..."),ve.map(o=>React.createElement("option",{key:o,value:o},o)))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Collection Type"),React.createElement("input",{type:"text",value:s.collectionType,onChange:o=>n("collectionType",o.target.value),placeholder:"e.g., Decorative furnishings",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Classification"),React.createElement("input",{type:"text",value:s.classification,onChange:o=>n("classification",o.target.value),placeholder:"e.g., Salad Plates",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Object Number"),React.createElement("input",{type:"text",value:s.objectNumber,onChange:o=>n("objectNumber",o.target.value),placeholder:"e.g., NSH.1905.001",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})))),React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Parts"),React.createElement(Pe,{parts:s.parts,onChange:o=>n("parts",o)})),React.createElement("section",null,React.createElement("h3",{className:"font-display text-xl font-semibold text-stone-800 mb-4"},"Cataloging"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Catalogued Date"),React.createElement("input",{type:"text",value:s.cataloguedDate,onChange:o=>n("cataloguedDate",o.target.value),placeholder:"e.g., 09/01/2025",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Cataloguer"),React.createElement("input",{type:"text",value:s.cataloguer,onChange:o=>n("cataloguer",o.target.value),placeholder:"e.g., Carola Davis",className:"w-full px-4 py-3 border border-stone-300 rounded-lg"}))),React.createElement("div",{className:"mt-4"},React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Related Acquisition Record"),React.createElement("textarea",{value:s.relatedAcquisitionRecord,onChange:o=>n("relatedAcquisitionRecord",o.target.value),placeholder:"e.g., 2025.001.01; Acquired; Lois Hensel; Gift with conditions; 07/25/2025",className:"w-full px-4 py-3 border border-stone-300 rounded-lg",rows:2})),React.createElement("div",{className:"mt-4"},React.createElement("label",{className:"block text-sm font-medium text-stone-700 mb-1"},"Acquisition Notes"),React.createElement("textarea",{value:s.acquisitionNotes,onChange:o=>n("acquisitionNotes",o.target.value),placeholder:"e.g., Donor requests items be returned if administration changes",className:"w-full px-4 py-3 border border-stone-300 rounded-lg",rows:2}))),React.createElement("div",{className:"flex gap-4 pt-4 border-t border-stone-200"},React.createElement("button",{type:"submit",disabled:r,className:"flex-1 bg-gold hover:bg-gold-dark disabled:bg-stone-400 text-white py-3 px-6 rounded-lg font-medium transition-colors flex items-center justify-center gap-2"},r?React.createElement(React.Fragment,null,React.createElement(U,{size:20}),"Saving..."):React.createElement(React.Fragment,null,React.createElement(le,{size:20}),e!=null&&e.id?"Save Changes":"Add Object")),React.createElement("button",{type:"button",onClick:l,disabled:r,className:"px-6 py-3 bg-stone-100 hover:bg-stone-200 disabled:bg-stone-100 rounded-lg font-medium transition-colors"},"Cancel")))},Me=({object:e,allObjects:t,onBack:l,onEdit:r,onFilterClick:s,onObjectClick:i})=>React.createElement("div",{className:"max-w-4xl mx-auto"},React.createElement("button",{onClick:l,className:"flex items-center gap-2 text-stone-600 hover:text-gold transition-colors mb-6"},React.createElement(se,{size:20}),React.createElement("span",null,"Back to Collection")),React.createElement(Se,{images:e.images,title:e.title}),React.createElement("div",{className:"mt-8 mb-6"},React.createElement("div",{className:"flex items-start justify-between gap-4"},React.createElement("div",null,React.createElement("h1",{className:"font-display text-3xl md:text-4xl font-semibold text-stone-800"},e.title),e.portfolioTitle&&React.createElement("p",{className:"text-lg text-stone-500 italic mt-1"},e.portfolioTitle)),React.createElement("button",{onClick:()=>r(e),className:"flex items-center gap-2 px-4 py-2 bg-stone-100 hover:bg-stone-200 rounded-lg transition-colors text-sm"},React.createElement(Ne,{size:16}),"Edit"))),e.aboutText&&React.createElement("div",{className:"mb-8"},React.createElement("h2",{className:"font-display text-xl font-semibold text-stone-800 mb-3"},"About this Object"),React.createElement("p",{className:"text-stone-700 leading-relaxed whitespace-pre-wrap"},e.aboutText)),React.createElement(Te,{object:e,onFilterClick:s}),e.parts&&e.parts.length>0&&React.createElement("div",{className:"mt-6 pt-6 border-t border-stone-200"},React.createElement("h3",{className:"metadata-label mb-2"},"Parts"),React.createElement("div",{className:"space-y-2"},e.parts.map((c,n)=>React.createElement("div",{key:n,className:"bg-stone-50 border border-stone-200 rounded-lg px-3 py-2"},React.createElement("div",{className:"text-sm font-medium text-stone-700"},c.partId||"Part ID"),c.partDescription&&React.createElement("div",{className:"text-xs text-stone-500"},c.partDescription))))),e.keywords&&e.keywords.length>0&&React.createElement("div",{className:"mt-6 pt-6 border-t border-stone-200"},React.createElement("h3",{className:"metadata-label mb-2"},"Subject & Association Keywords"),React.createElement("div",{className:"flex flex-wrap gap-2"},e.keywords.map((c,n)=>React.createElement("button",{key:n,onClick:()=>s("keywords",c),className:"tag"},c)))),React.createElement(Le,{currentObject:e,allObjects:t,onObjectClick:i})),Re=({objects:e,filters:t,onFilterChange:l,onObjectClick:r,onAddNew:s,onRefresh:i,isLoading:c,isConnected:n})=>{const[o,d]=x(""),v=[...new Set(e.map(a=>a.objectType).filter(Boolean))],A=[...new Set(e.map(a=>a.collection).filter(Boolean))],I=Q(()=>e.filter(a=>{var m;if(o){const p=o.toLowerCase();if(![a.title,a.aboutText,a.objectType,a.designer,a.maker,a.from,a.mediumMaterials,a.portfolioTitle,...a.keywords||[]].join(" ").toLowerCase().includes(p))return!1}return!(t.objectType&&a.objectType!==t.objectType||t.collection&&a.collection!==t.collection||t.keywords&&!((m=a.keywords)!=null&&m.includes(t.keywords))||t.designer&&a.designer!==t.designer||t.maker&&a.maker!==t.maker)}),[e,o,t]),S=()=>{d(""),l({})},P=o||Object.values(t).some(a=>a);return React.createElement("div",{className:"max-w-6xl mx-auto"},React.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8"},React.createElement("div",null,React.createElement("h1",{className:"font-display text-3xl md:text-4xl font-semibold text-stone-800"},"Archives"),React.createElement("div",{className:"flex items-center gap-2 mt-1"},React.createElement("p",{className:"text-stone-600"},"North Star House Collection"),n?React.createElement("span",{className:"flex items-center gap-1 text-xs text-green-600 bg-green-50 px-2 py-0.5 rounded-full"},React.createElement(Ie,{size:12})," Synced"):React.createElement("span",{className:"flex items-center gap-1 text-xs text-stone-500 bg-stone-100 px-2 py-0.5 rounded-full"},React.createElement(le,{size:12})," Local"))),React.createElement("div",{className:"flex gap-2"},React.createElement("button",{onClick:i,disabled:c,className:"flex items-center gap-2 px-4 py-3 bg-stone-100 hover:bg-stone-200 rounded-lg transition-colors",title:"Refresh from Google Sheets"},React.createElement(Ae,{size:20,className:c?"animate-spin":""})),React.createElement("button",{onClick:s,className:"flex items-center gap-2 bg-gold hover:bg-gold-dark text-white px-5 py-3 rounded-lg font-medium transition-colors"},React.createElement(J,{size:20}),"Add Object"))),React.createElement("div",{className:"bg-white rounded-xl border border-stone-200 p-4 mb-6"},React.createElement("div",{className:"flex flex-col md:flex-row gap-4"},React.createElement("div",{className:"flex-1 relative"},React.createElement(we,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400"}),React.createElement("input",{type:"text",value:o,onChange:a=>d(a.target.value),placeholder:"Search objects, keywords, makers...",className:"w-full pl-10 pr-4 py-3 border border-stone-300 rounded-lg"})),React.createElement("select",{value:t.objectType||"",onChange:a=>l(g(u({},t),{objectType:a.target.value||null})),className:"px-4 py-3 border border-stone-300 rounded-lg bg-white min-w-[160px]"},React.createElement("option",{value:""},"All Types"),v.map(a=>React.createElement("option",{key:a,value:a},a))),React.createElement("select",{value:t.collection||"",onChange:a=>l(g(u({},t),{collection:a.target.value||null})),className:"px-4 py-3 border border-stone-300 rounded-lg bg-white min-w-[180px]"},React.createElement("option",{value:""},"All Collections"),A.map(a=>React.createElement("option",{key:a,value:a},a)))),P&&React.createElement("div",{className:"flex flex-wrap items-center gap-2 mt-4 pt-4 border-t border-stone-100"},React.createElement("span",{className:"text-sm text-stone-500"},"Active filters:"),o&&React.createElement("span",{className:"tag tag-gold"},'Search: "',o,'"',React.createElement("button",{onClick:()=>d(""),className:"ml-1"},React.createElement(C,{size:14}))),t.objectType&&React.createElement("span",{className:"tag tag-gold"},"Type: ",t.objectType,React.createElement("button",{onClick:()=>l(g(u({},t),{objectType:null})),className:"ml-1"},React.createElement(C,{size:14}))),t.collection&&React.createElement("span",{className:"tag tag-gold"},"Collection: ",t.collection,React.createElement("button",{onClick:()=>l(g(u({},t),{collection:null})),className:"ml-1"},React.createElement(C,{size:14}))),t.keywords&&React.createElement("span",{className:"tag tag-gold"},"Keyword: ",t.keywords,React.createElement("button",{onClick:()=>l(g(u({},t),{keywords:null})),className:"ml-1"},React.createElement(C,{size:14}))),t.designer&&React.createElement("span",{className:"tag tag-gold"},"Designer: ",t.designer,React.createElement("button",{onClick:()=>l(g(u({},t),{designer:null})),className:"ml-1"},React.createElement(C,{size:14}))),t.maker&&React.createElement("span",{className:"tag tag-gold"},"Maker: ",t.maker,React.createElement("button",{onClick:()=>l(g(u({},t),{maker:null})),className:"ml-1"},React.createElement(C,{size:14}))),React.createElement("button",{onClick:S,className:"text-sm text-gold hover:text-gold-dark ml-2"},"Clear all"))),React.createElement("p",{className:"text-stone-600 mb-4"},I.length," ",I.length===1?"object":"objects"," found"),c?React.createElement("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200"},React.createElement(U,{size:48,className:"mx-auto text-gold mb-4"}),React.createElement("p",{className:"text-stone-600 text-lg"},"Loading from Google Sheets...")):I.length===0?React.createElement("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200"},React.createElement(ke,{size:48,className:"mx-auto text-stone-300 mb-4"}),React.createElement("p",{className:"text-stone-600 text-lg"},"No objects match your search"),React.createElement("button",{onClick:S,className:"mt-4 text-gold hover:text-gold-dark"},"Clear filters")):React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},I.map(a=>React.createElement(ne,{key:a.id,object:a,onClick:()=>r(a)}))))},Be=()=>{const[e,t]=x([]),[l,r]=x("browse"),[s,i]=x(null),[c,n]=x(null),[o,d]=x({}),[v,A]=x(!0),[I,S]=x(!1),[P,a]=x(!1);ue(()=>{m()},[]);const m=async({useCache:f=!0}={})=>{var T,k;if(!q){const w=W();t(z((w==null?void 0:w.objects)||[])),a(!1),A(!1);return}const y=f?W():null,B=y&&Date.now()-y.updatedAt<ge;(T=y==null?void 0:y.objects)!=null&&T.length?(t(z(y.objects)),a(N.isConfigured()),A(!1)):A(!0);try{const w=await N.fetchAll();t(z(w)),a(N.isConfigured()),H(w)}catch(w){console.error("Failed to load data:",w),(k=y==null?void 0:y.objects)!=null&&k.length||t(z(G))}A(!1)},p=f=>{i(f),r("detail"),window.scrollTo(0,0)},b=()=>{i(null),r("browse")},M=()=>{n(null),r("add"),window.scrollTo(0,0)},R=f=>{n(f),r("edit"),window.scrollTo(0,0)},E=async f=>{S(!0);try{const y=(f.images||[]).filter(ee),B=te(f);let T=f;if(c)await N.update(B),t(k=>{const w=k.map(F=>F.id===f.id?f:F);return H(w),w}),i(f);else{const k=await N.create(B),w=g(u({},f),{id:k.id||f.id});T=w,t(F=>{const _=[...F,w];return H(_),_}),i(w)}if(T.id){const k=oe();y.length>0?k[T.id]=y:delete k[T.id],be(k)}r("detail"),n(null)}catch(y){console.error("Failed to save:",y),alert("Failed to save. Please try again.")}S(!1)},O=()=>{r(s?"detail":"browse"),n(null)};return React.createElement("div",{className:"min-h-screen bg-stone-50"},React.createElement("header",{className:"bg-white border-b border-stone-200 sticky top-0 z-40"},React.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},React.createElement("div",{className:"flex items-center justify-between h-16"},React.createElement("button",{onClick:()=>{r("browse"),i(null),d({})},className:"flex items-center gap-3"},React.createElement("div",{className:"w-10 h-10 rounded-full bg-gold flex items-center justify-center"},React.createElement("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"white"},React.createElement("path",{d:"M12 3.5l2.6 5.9L21 12l-6.4 2.6L12 20.5l-2.6-5.9L3 12l6.4-2.6L12 3.5z"}))),React.createElement("span",{className:"font-display text-xl font-semibold text-stone-800"},"North Star House")),React.createElement("span",{className:"text-stone-500 text-sm hidden sm:block"},"Archives Collection")))),React.createElement("main",{className:"px-4 sm:px-6 lg:px-8 py-8"},l==="browse"&&React.createElement(Re,{objects:e,filters:o,onFilterChange:d,onObjectClick:p,onAddNew:M,onRefresh:()=>m({useCache:!1}),isLoading:v,isConnected:P}),l==="detail"&&s&&React.createElement(Me,{object:s,allObjects:e,onBack:b,onEdit:R,onFilterClick:(f,y)=>{d({[f]:y}),i(null),r("browse"),window.scrollTo(0,0)},onObjectClick:p}),(l==="add"||l==="edit")&&React.createElement("div",{className:"max-w-3xl mx-auto"},React.createElement("button",{onClick:O,className:"flex items-center gap-2 text-stone-600 hover:text-gold transition-colors mb-6"},React.createElement(se,{size:20}),React.createElement("span",null,"Cancel")),React.createElement("div",{className:"bg-white rounded-xl border border-stone-200 p-6 md:p-8"},React.createElement("h2",{className:"font-display text-2xl font-semibold text-stone-800 mb-6"},l==="edit"?"Edit Object":"Add New Object"),React.createElement(Oe,{object:c,onSave:E,onCancel:O,isSaving:I})))),React.createElement("footer",{className:"bg-white border-t border-stone-200 mt-16"},React.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},React.createElement("div",{className:"text-center text-stone-500 text-sm"},React.createElement("p",null,"North Star House Archives"),React.createElement("p",{className:"mt-1"},"A Julia Morgan Historic Building")))))},Fe=ReactDOM.createRoot(document.getElementById("root"));Fe.render(React.createElement(Be,null));})();
